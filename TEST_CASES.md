Gema usada para generar el formato de presentación de los casos de prueba: https://gemini.google.com/gem/af772dc0b552/82a61a10cebfd1dc


# Casos de Prueba para US-010: Calcular y Simular Tiempo de Preparación de Pedido

| ID             | Descripción                                                        | Pasos                                                                 | Datos de Entrada                                              | Resultado Esperado                                                                                       |
|----------------|--------------------------------------------------------------------|-----------------------------------------------------------------------|---------------------------------------------------------------|----------------------------------------------------------------------------------------------------------|
| CP-US010-001   | Cálculo Básico con un solo tipo de ítem simple                     | 1. Recibir evento de pedido. 2. Procesar cálculo de tiempo en Node.js. 3. Verificar estado en BD. | ID: "PEDIDO-001", Items: 2 "Refrescos" (1 min/u)            | Tiempo: 4 min (2 base + 2*1). Estado: "preparing".                                                      |
| CP-US010-002   | Cálculo Básico con un solo tipo de ítem medio                      | 1. Recibir evento de pedido. 2. Procesar cálculo de tiempo en Node.js. 3. Verificar estado en BD. | ID: "PEDIDO-002", Items: 1 "Hamburguesa Clásica" (3 min/u)  | Tiempo: 5 min (2 base + 1*3). Estado: "preparing".                                                      |
| CP-US010-003   | Cálculo Básico con un solo tipo de ítem complejo                   | 1. Recibir evento de pedido. 2. Procesar cálculo de tiempo en Node.js. 3. Verificar estado en BD. | ID: "PEDIDO-003", Items: 1 "Plato Especial del Chef" (5 min/u) | Tiempo: 7 min (2 base + 1*5). Estado: "preparing".                                                      |
| CP-US010-004   | Cálculo con múltiples tipos de ítems                               | 1. Recibir evento de pedido. 2. Procesar cálculo sumatorio en Node.js. 3. Verificar estado en BD. | ID: "PEDIDO-004", Items: 1 Hamb. (3m), 2 Refrescos (1m c/u), 1 Plato Esp. (5m) | Tiempo: 12 min (2 base + 3 + 2 + 5). Estado: "preparing".                                             |
| CP-US010-005   | Pedido sin ítems                                                   | 1. Recibir evento sin ítems. 2. Procesar cálculo. 3. Verificar estado en BD. | ID: "PEDIDO-005", Items: []                                 | Tiempo: 2 min (solo base). Estado: "preparing".                                                         |
| CP-US010-006   | Pedido con cantidad cero de un ítem                                | 1. Recibir evento con ítem en cantidad 0. 2. Procesar cálculo. 3. Verificar estado en BD. | ID: "PEDIDO-006", Items: 1 Hamb. (3m), 0 Refrescos (1m)      | Tiempo: 5 min (2 base + 3 + 0). Estado: "preparing".                                                     |
| CP-US010-007   | Pedido con un número muy grande de ítems                           | 1. Recibir evento con 100 ítems. 2. Procesar cálculo. 3. Verificar estado en BD. | ID: "PEDIDO-007", Items: 100 "Refrescos" (1 min/u)         | Tiempo: 102 min (2 base + 100). Estado: "preparing".                                                     |
| CP-US010-008   | Pedido con un ítem no reconocido en el catálogo                    | 1. Recibir evento con ítem inexistente. 2. Procesar cálculo. 3. Revisar logs. | ID: "PEDIDO-008", Items: 1 "Ítem Desconocido"              | Cálculo no falla (usa valor defecto/0), Estado: "preparing", Alerta en logs.                            |
| CP-US010-009   | Pedido con estructura de datos inválida                            | 1. Enviar JSON mal formado o sin campos obligatorios. 2. Procesar evento. | ID: "PEDIDO-009", JSON inválido                             | Error registrado, estado no cambia, notificación a monitoreo.                                           |
| CP-US010-010   | Pedido con ID de pedido ya existente en estado "pending"          | 1. Enviar evento con ID duplicado. 2. Procesar en microservicio. | ID: "PEDIDO-010" (ya existente en "pending")               | Actualización de pedido o ignorar duplicado, Estado: "preparing", Advertencia en logs.                  |
| CP-US010-011   | Pedido con estado inicial diferente a "pending"                   | 1. Recibir evento para pedido con estado "ready". 2. Intentar procesar. | ID: "PEDIDO-011" (en estado "ready")                      | Evento ignorado o error de estado, Pedido permanece en "ready".                                        |
| CP-US010-012   | Cálculo con tiempo de preparación negativo para un ítem            | 1. Configurar ítem con -1 min. 2. Recibir pedido con dicho ítem. 3. Procesar. | ID: "PEDIDO-012", Item con tiempo -1                      | Manejo de valor negativo (0 o error), tiempo final no es negativo, Alerta en logs.                      |
| CP-US010-013   | Falla en la conexión a la base de datos                            | 1. Simular caída de BD. 2. Recibir y procesar pedido. | ID: "PEDIDO-013", Pedido válido                             | Error de conexión registrado, estado no cambia, notificación a monitoreo.                               |
| CP-US010-014   | Finalización exitosa del tiempo de preparación                     | 1. Pedido en "preparing". 2. Esperar finalización de tiempo simulado. | ID: "PEDIDO-014", Tiempo: 1 min                             | Estado cambia a "ready" en la base de datos.                                                           |
| CP-US010-015   | Finalización con tiempo de preparación muy corto                   | 1. Pedido en "preparing" con tiempo 0. 2. Finalizar simulación. | ID: "PEDIDO-015", Tiempo: 0s                                 | Estado cambia a "ready" inmediatamente.                                                                |
| CP-US010-016   | Finalización con tiempo de preparación muy largo                   | 1. Pedido en "preparing" con 120 min. 2. Finalizar simulación. | ID: "PEDIDO-016", Tiempo: 120 min                            | Estado cambia a "ready" tras el tiempo transcurrido.                                                   |
| CP-US010-017   | Pedido ya en estado "ready" al finalizar simulación               | 1. Pedido en "ready". 2. Intentar finalizar simulación de tiempo. | ID: "PEDIDO-017", Estado previo: "ready"                   | Estado permanece en "ready", Advertencia en logs.                                                      |
| CP-US010-018   | Pedido en estado "completed" al finalizar simulación              | 1. Pedido en "completed". 2. Intentar finalizar simulación. | ID: "PEDIDO-018", Estado previo: "completed"                | Estado permanece en "completed", Advertencia en logs.                                                  |
| CP-US010-019   | Error al actualizar la BD al finalizar simulación                  | 1. Finalizar tiempo simulado. 2. Simular fallo de BD. | ID: "PEDIDO-019", Estado: "preparing"                      | Error registrado, estado permanece en "preparing", reintento o notificación.                           |
| CP-US010-020   | Múltiples pedidos finalizando simultáneamente                      | 1. Tener varios pedidos en "preparing". 2. Finalizar tiempos a la vez. | IDs: "PEDIDO-020A", "PEDIDO-020B"                        | Todos los pedidos cambian a "ready" sin conflictos de concurrencia.                                    |
| CP-US010-021   | Reinicio del microservicio durante la simulación                   | 1. Reiniciar servicio mientras hay pedido en curso. 2. Verificar recuperación. | ID: "PEDIDO-021", Estado: "preparing"                   | Recuperación de estado, reanudación de tiempo, cambio final a "ready".                                 |
| CP-US010-022   | Pedido eliminado mientras está en estado "preparing"              | 1. Eliminar pedido de BD externamente. 2. Finalizar tiempo simulado. | ID: "PEDIDO-022" (eliminado de BD)                         | Detección de inexistencia, advertencia en logs, sin intento de actualización.                          |

# Casos de Prueba para US-011: Actualizar Pedido Existente y Notificar

| ID             | Descripción                                                        | Pasos                                                                 | Datos de Entrada                                              | Resultado Esperado                                                                                       |
|----------------|--------------------------------------------------------------------|-----------------------------------------------------------------------|---------------------------------------------------------------|----------------------------------------------------------------------------------------------------------|
| CP-US011-001   | Actualización exitosa - Añadir ítems a pedido pendiente            | 1. Identificar pedido "pending" en MongoDB. 2. Enviar mensaje de actualización añadiendo ítem. | ID: "PEDIDO-001", Nuevo ítem: "Hamburguesa Clásica" (1)     | Pedido actualizado en MongoDB con ambos ítems y emisión de evento ORDER_UPDATED.                        |
| CP-US011-002   | Actualización exitosa - Modificar cantidad de ítem en pedido pendiente | 1. Identificar pedido "pending". 2. Enviar actualización cambiando cantidad de un ítem existente. | ID: "PEDIDO-002", Item: "Refresco", Nueva Cantidad: 2      | Cantidad actualizada en MongoDB y emisión de evento ORDER_UPDATED via WebSocket.                        |
| CP-US011-003   | Actualización exitosa - Eliminar ítems de pedido pendiente         | 1. Identificar pedido "pending". 2. Enviar mensaje para eliminar un ítem específico. | ID: "PEDIDO-003", Eliminar: "Refresco"                    | MongoDB refleja solo el ítem restante y se emite evento ORDER_UPDATED.                                  |
| CP-US011-004   | Actualización exitosa - Cambiar nombre de cliente y mesa en pedido pendiente | 1. Identificar pedido "pending". 2. Enviar actualización de cliente y mesa. | ID: "PEDIDO-004", Cliente: "María García", Mesa: "7"      | Datos actualizados en MongoDB y notificación vía WebSocket con nueva info.                              |
| CP-US011-005   | Actualización exitosa - Pedido queda sin ítems en estado pendiente | 1. Identificar pedido "pending". 2. Enviar mensaje eliminando todos los ítems. | ID: "PEDIDO-005", Eliminar todos los ítems                  | MongoDB actualiza lista a vacía [] y se emite evento ORDER_UPDATED.                                     |
| CP-US011-006   | Intento de actualización de pedido en estado "preparing"          | 1. Identificar pedido en "preparing". 2. Intentar enviar una actualización de ítem. | ID: "PEDIDO-006", Acción: Añadir ítem                       | Pedido no se modifica, estado sigue en "preparing", sin evento WS, error en logs.                      |
| CP-US011-007   | Intento de actualización de pedido en estado "ready"              | 1. Identificar pedido en "ready". 2. Intentar enviar actualización. | ID: "PEDIDO-007", Datos de actualización                    | No hay cambios en MongoDB, sin evento WS, se registra advertencia/error.                                |
| CP-US011-008   | Intento de actualización de pedido en estado "completed"          | 1. Identificar pedido en "completed". 2. Intentar enviar actualización. | ID: "PEDIDO-008", Datos de actualización                    | No hay cambios en MongoDB, sin evento WS, se registra advertencia/error.                                |
| CP-US011-009   | Intento de actualización de pedido con ID inexistente              | 1. Enviar mensaje de actualización para un ID que no está en MongoDB. | ID: "PEDIDO-009"                                             | No se crea pedido, sin evento WS, error de "Pedido no encontrado" en logs.                             |
| CP-US011-010   | Mensaje de actualización con formato inválido (JSON mal formado)   | 1. Enviar cadena de texto no válida como JSON de actualización.       | ID: "PEDIDO-010", Data: "{invalid_json"                   | MongoDB sin cambios, sin evento WS, error de procesamiento registrado.                                  |
| CP-US011-011   | Mensaje de actualización con campos obligatorios faltantes         | 1. Enviar actualización omitiendo lista de ítems o cantidades.        | ID: "PEDIDO-011", Data: { items: [ { nombre: "Refresco" } ] } | MongoDB sin cambios, sin evento WS, error de validación en logs.                                       |
| CP-US011-012   | Mensaje de actualización con cantidad negativa para un ítem        | 1. Enviar actualización con cantidad de ítem en -1.                   | ID: "PEDIDO-012", Item: "Refresco", Cantidad: -1           | MongoDB sin cambios, sin evento WS, error de validación de cantidad.                                   |
| CP-US011-013   | Mensaje de actualización con ítem no reconocido en el catálogo     | 1. Enviar actualización con ítem fuera de catálogo.                   | ID: "PEDIDO-013", Item: "Ítem Desconocido"                  | MongoDB no incluye el ítem, sin evento WS (o filtrado), advertencia en logs.                           |
| CP-US011-014   | Falla en la conexión a MongoDB durante la actualización            | 1. Simular caída de MongoDB. 2. Enviar mensaje de actualización.      | ID: "PEDIDO-014", Datos válidos                              | Error de conexión en logs, sin cambios en BD, sin evento WS, alerta a monitoreo.                       |
| CP-US011-015   | Falla en la emisión del evento WebSocket post-actualización        | 1. Realizar actualización exitosa en BD. 2. Simular fallo de conexión WebSocket. | ID: "PEDIDO-015", Datos válidos                              | MongoDB actualizado, error de WS en logs, sin evento emitido, alerta a monitoreo.                      |
| CP-US011-016   | Concurrencia - Dos actualizaciones simultáneas mismo pedido        | 1. Enviar simultáneamente actualización de añadir ítem y modificar cantidad. | Mensaje 1: Add Hamb; Mensaje 2: Cantidad Refresco=2         | MongoDB refleja ambos cambios consistentemente y envía evento WS con estado final.                     |
| CP-US011-017   | Concurrencia - Actualización y cambio de estado a "preparing"     | 1. Enviar actualización de ítem y cambio de estado a "preparing" a la vez. | Mensaje: Add Item; Evento: Status -> preparing              | El sistema procesa secuencialmente: o actualiza y luego cambia estado, o rechaza si ya cambió.         |

# Casos de Prueba para US-012: Autenticación y Control de Acceso por Roles

| ID            | Descripción                                              | Pasos                                                                 | Datos de Entrada                                      | Resultado Esperado                                                                                 |
|---------------|---------------------------------------------------------|-----------------------------------------------------------------------|--------------------------------------------------------|----------------------------------------------------------------------------------------------------|
| US-012-TC-001 | Inicio de sesión exitoso como Mesero                    | 1. Acceder a interfaz de login. 2. Ingresar credenciales de Mesero. 3. Enviar formulario. | Usuario: "Mesero", Contraseña: "válida"              | Validación exitosa, entrega de token JWT y redirección a /mesero-dashboard.                        |
| US-012-TC-002 | Inicio de sesión exitoso como Cocinero                  | 1. Acceder a interfaz de login. 2. Ingresar credenciales de Cocinero. 3. Enviar formulario. | Usuario: "Cocinero", Contraseña: "válida"            | Validación exitosa, entrega de token JWT y redirección a /cocina-dashboard.                        |
| US-012-TC-003 | Inicio de sesión exitoso como Administrador             | 1. Acceder a interfaz de login. 2. Ingresar credenciales de Administrador. 3. Enviar formulario. | Usuario: "Administrador", Contraseña: "válida"        | Validación exitosa, entrega de token JWT y redirección a /admin-dashboard.                         |
| US-012-TC-004 | Verificación de la estructura del token JWT             | 1. Iniciar sesión. 2. Inspeccionar el token generado.                 | Credenciales válidas                                   | Estructura header.payload.signature válida, contiene rol y fecha de expiración.                    |
| US-012-TC-005 | Mesero intenta acceder a recurso de Administrador       | 1. Iniciar sesión como Mesero. 2. Intentar acceder a /api/admin/users. | Token JWT (Mesero)                                     | Acceso denegado, mensaje "Acceso Denegado" y sin redirección al recurso.                          |
| US-012-TC-006 | Cocinero intenta acceder a recurso de Administrador     | 1. Iniciar sesión como Cocinero. 2. Intentar acceder a /api/admin/users. | Token JWT (Cocinero)                                   | Acceso denegado, mensaje "Acceso Denegado" y sin redirección al recurso.                          |
| US-012-TC-007 | Cocinero intenta acceder a recurso de Mesero            | 1. Iniciar sesión como Cocinero. 2. Intentar acceder a /api/mesero/my-orders. | Token JWT (Cocinero)                                   | Acceso denegado, mensaje "Acceso Denegado".                                                      |
| US-012-TC-008 | Mesero intenta acceder a recurso de Cocinero            | 1. Iniciar sesión como Mesero. 2. Intentar acceder a /api/kitchen/pending-orders. | Token JWT (Mesero)                                     | Acceso denegado, mensaje "Acceso Denegado".                                                      |
| US-012-TC-009 | Mesero accede a su recurso propio                      | 1. Iniciar sesión como Mesero. 2. Acceder a /api/mesero/my-orders.    | Token JWT (Mesero)                                     | Acceso concedido y visualización de la información.                                                |
| US-012-TC-010 | Cocinero accede a su recurso propio                    | 1. Iniciar sesión como Cocinero. 2. Acceder a /api/kitchen/pending-orders. | Token JWT (Cocinero)                                   | Acceso concedido y visualización de la información.                                                |
| US-012-TC-011 | Administrador accede a su recurso propio               | 1. Iniciar sesión como Administrador. 2. Acceder a /api/admin/users.  | Token JWT (Administrador)                               | Acceso concedido y visualización de la información.                                                |
| US-012-TC-012 | Inicio de sesión con nombre de usuario inexistente      | 1. Acceder a login. 2. Ingresar usuario inexistente. 3. Enviar.       | Usuario: "no_existe", Contraseña: "123"              | Error "Credenciales inválidas", no hay redirección.                                               |
| US-012-TC-013 | Inicio de sesión con contraseña incorrecta              | 1. Acceder a login. 2. Ingresar usuario válido y contraseña errónea.  | Usuario: "Mesero", Contraseña: "wrong_password"       | Error "Credenciales inválidas", no hay redirección.                                               |
| US-012-TC-014 | Inicio de sesión con nombre de usuario y contraseña incorrectos | 1. Acceder a login. 2. Ingresar ambos datos erróneos.           | Usuario: "erroneo", Contraseña: "error"               | Error "Credenciales inválidas", no hay redirección.                                               |
| US-012-TC-015 | Inicio de sesión con nombre de usuario vacío            | 1. Acceder a login. 2. Dejar usuario vacío e ingresar contraseña.     | Usuario: "", Contraseña: "123"                        | Mensaje de validación de campo requerido en frontend.                                              |
| US-012-TC-016 | Inicio de sesión con contraseña vacía                   | 1. Acceder a login. 2. Ingresar usuario y dejar contraseña vacía.     | Usuario: "Mesero", Contraseña: ""                      | Mensaje de validación de campo requerido en frontend.                                              |
| US-012-TC-017 | Inicio de sesión con ambos campos vacíos                | 1. Acceder a login. 2. Dejar campos vacíos y enviar.                 | Usuario: "", Contraseña: ""                             | Mensajes de validación de campos requeridos en frontend.                                           |
| US-012-TC-018 | Inicio de sesión con usuario de longitud máxima         | 1. Ingresar usuario con máximo de caracteres permitido. 2. Enviar.    | Usuario: [Max_Length_String], Contraseña: "123"         | Validación exitosa y redirección según rol.                                                        |
| US-012-TC-019 | Inicio de sesión con usuario que excede longitud        | 1. Ingresar usuario que supere el límite de caracteres.               | Usuario: [Exceed_Length_String]                          | Restricción en entrada o error "Nombre de usuario demasiado largo".                                |
| US-012-TC-020 | Inicio de sesión con contraseña de longitud máxima      | 1. Ingresar usuario válido y contraseña de longitud máxima.           | Usuario: "Mesero", Contraseña: [Max_Pass_Length]        | Validación exitosa y redirección según rol.                                                        |
| US-012-TC-021 | Inicio de sesión con contraseña que excede longitud     | 1. Ingresar usuario válido y contraseña excediendo límite.            | Usuario: "Mesero", Contraseña: [Exceed_Pass_Length]     | Restricción en entrada o error "Contraseña demasiado larga".                                       |
| US-012-TC-022 | Intento de inyección SQL en usuario                    | 1. Ingresar sentencia SQL en campo usuario.                           | Usuario: "' OR '1'='1' --", Contraseña: "any"          | Error de credenciales inválidas, acceso denegado.                                                  |
| US-012-TC-023 | Intento de inyección SQL en contraseña                  | 1. Ingresar sentencia SQL en campo contraseña.                        | Usuario: "Mesero", Contraseña: "' OR '1'='1' --"        | Error de credenciales inválidas, acceso denegado.                                                  |
| US-012-TC-024 | Acceso con token JWT expirado                          | 1. Usar token con fecha vencida para acceder a recurso.               | Token JWT (Expirado)                                      | Acceso denegado, mensaje "Sesión expirada" y solicitud de login.                                  |
| US-012-TC-025 | Acceso con token JWT manipulado                        | 1. Cambiar payload o firma del token. 2. Acceder a recurso.           | Token JWT (Alterado)                                      | Acceso denegado, mensaje "Token inválido".                                                        |
| US-012-TC-026 | Bloqueo de cuenta por intentos fallidos                | 1. Intentar login con datos erróneos repetidamente (X veces).         | Credenciales incorrectas reiteradas                      | Cuenta bloqueada, mensaje de bloqueo informativo.                                                  |
| US-012-TC-027 | Acceso a ruta pública sin autenticación                 | 1. Navegar a ruta pública (/, /about) sin estar logueado.             | Ninguno                                                  | Acceso permitido y visualización de contenido.                                                     |
| US-012-TC-028 | Acceso a ruta protegida sin autenticación               | 1. Navegar a ruta protegida sin estar logueado.                       | Ninguno                                                  | Acceso denegado, redirección a login y mensaje de requerimiento.                                   |
| US-012-TC-029 | Cierre de sesión exitoso                               | 1. Usuario logueado hace clic en "Cerrar Sesión".                    | Sesión activa                                            | Token eliminado, redirección a login, imposibilidad de acceso posterior.                           |
| US-012-TC-030 | Persistencia de sesión con "Recordarme"                | 1. Loguearse con "Recordarme". 2. Cerrar y abrir navegador.           | Credenciales + "Recordarme"                              | Usuario permanece autenticado y redirigido a su vista.                                             |
| US-012-TC-031 | No persistencia de sesión sin "Recordarme"             | 1. Loguearse sin "Recordarme". 2. Cerrar y abrir navegador.           | Credenciales solamente                                   | Usuario no autenticado, redirección a login.                                                      |

# Casos de Prueba para US-013: Módulo de Gestión Administrativa

| ID            | Descripción                                                        | Pasos                                                                 | Datos de Entrada                                            | Resultado Esperado                                                                                       |
|---------------|--------------------------------------------------------------------|-----------------------------------------------------------------------|-------------------------------------------------------------|----------------------------------------------------------------------------------------------------------|
| US-013-TC-001 | Acceso y visualización del dashboard con datos existentes          | 1. Iniciar sesión como Administrador. 2. Acceder al módulo de gestión. 3. Seleccionar pestaña "Dashboard". | Credenciales de Administrador, Datos de operación existentes | Visualización de métricas (pedidos, ventas, estados) reflejando datos actuales.                         |
| US-013-TC-002 | Visualización del dashboard sin datos de operación                 | 1. Iniciar sesión como Administrador. 2. Acceder a "Dashboard".      | Sistema sin pedidos registrados                              | Métricas en cero o mensaje "Sin datos disponibles", sin errores de carga.                              |
| US-013-TC-003 | Actualización de métricas en el dashboard                         | 1. Visualizar dashboard. 2. Realizar nueva operación (pedido). 3. Refrescar dashboard. | Nueva operación en el sistema                                 | Métricas actualizadas con la nueva información de operación.                                            |
| US-013-TC-004 | Manejo de errores al cargar datos del dashboard                   | 1. Simular error de conexión backend/BD. 2. Acceder a pestaña "Dashboard". | Error de red/servidor                                        | Mensaje "No se pudieron cargar los datos del dashboard", sin info incorrecta.                          |
| US-013-TC-005 | Dashboard con un solo pedido                                     | 1. Acceder a "Dashboard" con un único pedido en BD.                  | 1 pedido registrado                                          | Métricas reflejan correctamente el impacto del único pedido.                                            |
| US-013-TC-006 | Acceso a gestión de productos con productos existentes            | 1. Acceder a pestaña "Productos". 2. Verificar lista y opciones.     | Productos registrados en BD                                  | Lista de productos visible con opciones de Crear, Editar y Listar.                                      |
| US-013-TC-007 | Acceso a gestión de productos sin productos registrados          | 1. Acceder a pestaña "Productos" sin datos.                         | BD de productos vacía                                        | Mensaje "No hay productos registrados" y opción "Crear" disponible.                                   |
| US-013-TC-008 | Manejo de errores al cargar la lista de productos                | 1. Simular fallo de conexión. 2. Acceder a pestaña "Productos".      | Error de comunicación con backend                            | Mensaje "No se pudieron cargar los productos", lista vacía o limpia.                                   |
| US-013-TC-009 | Acceso a gestión de usuarios con usuarios existentes             | 1. Acceder a pestaña "Usuarios". 2. Verificar lista y opciones.      | Usuarios registrados en BD                                   | Lista de usuarios visible con opciones de Crear, Editar y Listar.                                       |
| US-013-TC-010 | Acceso a gestión de usuarios sin usuarios registrados (solo admin) | 1. Acceder a pestaña "Usuarios" siendo el único usuario.             | Solo usuario Administrador actual                             | Lista muestra al admin actual o mensaje de pocos usuarios, opción "Crear" disponible.                  |
| US-013-TC-011 | Manejo de errores al cargar la lista de usuarios                | 1. Simular fallo de conexión. 2. Acceder a pestaña "Usuarios".       | Error de comunicación con backend                            | Mensaje "No se pudieron cargar los usuarios", sin datos corruptos.                                     |
| US-013-TC-012 | Acceso a configuración y categorías con datos existentes         | 1. Acceder a pestaña "Configuración". 2. Verificar lista de categorías. | Categorías registradas en BD                                 | Lista de categorías visible con opciones de Agregar, Editar y Listar.                                   |
| US-013-TC-013 | Acceso a la sección de configuración sin categorías registradas  | 1. Acceder a pestaña "Configuración" sin datos.                      | BD de categorías vacía                                       | Mensaje "No hay categorías registradas" y opción "Agregar" disponible.                                |
| US-013-TC-014 | Manejo de errores al cargar la lista de categorías              | 1. Simular fallo de conexión. 2. Acceder a pestaña "Configuración".  | Error de comunicación con backend                            | Mensaje "No se pudieron cargar las categorías", sin info incompleta.                                   |
| US-013-TC-015 | Acceso al módulo de gestión por un rol no autorizado (Mesero)   | 1. Iniciar sesión como Mesero. 2. Intentar acceder a URL /admin-dashboard. | Credenciales de Mesero                                       | Acceso denegado, redirección a vista propia o login, mensaje de error.                                  |
| US-013-TC-016 | Acceso al módulo de gestión por un rol no autorizado (Cocinero) | 1. Iniciar sesión como Cocinero. 2. Intentar acceder a URL /admin-dashboard. | Credenciales de Cocinero                                     | Acceso denegado, redirección a vista propia o login, mensaje de error.                                  |
| US-013-TC-017 | Navegación entre pestañas del módulo de gestión                 | 1. Clicar sucesivamente en Dashboard, Productos, Usuarios, Configuración. | Administrador autenticado                                    | Navegación fluida, carga correcta de cada sección y actualización de URL.                               |
| US-013-TC-018 | Módulo de gestión con sesión expirada                          | 1. Expirar sesión/token. 2. Intentar interactuar con el módulo.        | Sesión inactiva o token vencido                              | Acción denegada, redirección a login y mensaje de sesión expirada.                                      |

# Casos de Prueba para US-014: Gestión de Usuarios (Crear, Editar, Validar)

| ID            | Descripción                                                        | Pasos                                                                 | Datos de Entrada                                            | Resultado Esperado                                                                                       |
|---------------|--------------------------------------------------------------------|-----------------------------------------------------------------------|-------------------------------------------------------------|----------------------------------------------------------------------------------------------------------|
| US-014-TC-001 | Creación exitosa de un usuario "Mesero"                          | 1. Ingresar nombre único. 2. Ingresar contraseña válida. 3. Seleccionar rol "Mesero". 4. Guardar. | Usuario: "mesero1", Pass: "Pass1234!", Rol: Mesero        | Usuario creado y visible en la lista con rol Mesero.                                                     |
| US-014-TC-002 | Creación exitosa de un usuario "Cocinero"                        | 1. Ingresar nombre único. 2. Ingresar contraseña válida. 3. Seleccionar rol "Cocinero". 4. Guardar. | Usuario: "cocinero1", Pass: "Pass1234!", Rol: Cocinero    | Usuario creado y visible en la lista con rol Cocinero.                                                   |
| US-014-TC-003 | Creación exitosa de un usuario "Administrador"                   | 1. Ingresar nombre único. 2. Ingresar contraseña válida. 3. Seleccionar rol "Administrador". 4. Guardar. | Usuario: "admin_nuevo", Pass: "Pass1234!", Rol: Administrador | Usuario creado y visible en la lista con rol Administrador.                                             |
| US-014-TC-004 | Intento de creación con nombre de usuario duplicado                | 1. Intentar crear usuario con nombre ya existente. 2. Guardar.        | Usuario: "mesero1" (existente)                              | Creación denegada, mensaje: "El nombre de usuario ya existe".                                          |
| US-014-TC-005 | Intento de creación con nombre de usuario vacío                    | 1. Dejar nombre vacío. 2. Ingresar contraseña y rol. 3. Guardar.      | Usuario: "", Pass: "Pass1234!", Rol: Mesero                | Creación denegada, mensaje: "Nombre de usuario requerido".                                              |
| US-014-TC-006 | Intento de creación con contraseña vacía                           | 1. Ingresar nombre y rol. 2. Dejar contraseña vacía. 3. Guardar.      | Usuario: "user_test", Pass: "", Rol: Mesero                | Creación denegada, mensaje: "Contraseña requerida".                                                     |
| US-014-TC-007 | Intento de creación sin seleccionar un rol                        | 1. Ingresar nombre y contraseña. 2. No seleccionar rol. 3. Guardar.   | Usuario: "user_test", Pass: "Pass1234!", Rol: null         | Creación denegada, mensaje: "Rol requerido".                                                            |
| US-014-TC-008 | Creación con nombre de usuario en límite mínimo                    | 1. Ingresar nombre de 3 caracteres. 2. Ingresar pass y rol. 3. Guardar. | Usuario: "abc", Pass: "Pass1234!", Rol: Mesero             | Usuario creado exitosamente y visible en lista.                                                          |
| US-014-TC-009 | Creación con nombre de usuario en límite máximo                    | 1. Ingresar nombre de 20 caracteres. 2. Ingresar pass y rol. 3. Guardar. | Usuario: "a".repeat(20)                                      | Usuario creado exitosamente y visible en lista.                                                          |
| US-014-TC-010 | Creación con nombre de usuario excediendo límite máximo            | 1. Intentar ingresar o enviar nombre de 21 caracteres.                | Usuario: "a".repeat(21)                                       | Entrada restringida a 20 caracteres o error "Nombre demasiado largo".                                   |
| US-014-TC-011 | Creación con contraseña en límite mínimo                           | 1. Ingresar nombre y rol. 2. Ingresar pass de 8 caracteres. 3. Guardar. | Pass: "P@ssword"                                              | Usuario creado exitosamente y visible en lista.                                                          |
| US-014-TC-012 | Creación con contraseña en límite máximo                           | 1. Ingresar nombre y rol. 2. Ingresar pass de 50 caracteres. 3. Guardar. | Pass: "p".repeat(50)                                          | Usuario creado exitosamente y visible en lista.                                                          |
| US-014-TC-013 | Creación con contraseña excediendo límite máximo                   | 1. Intentar ingresar o enviar pass de 51 caracteres.                  | Pass: "p".repeat(51)                                          | Entrada restringida a 50 caracteres o error "Contraseña demasiado larga".                               |
| US-014-TC-014 | Creación con caracteres especiales en nombre de usuario            | 1. Ingresar nombre con caracteres no permitidos. 2. Guardar.          | Usuario: "user#@!"                                            | Creación denegada, mensaje: "Nombre contiene caracteres inválidos".                                     |
| US-014-TC-015 | Creación con intento de inyección SQL en nombre                   | 1. Ingresar código SQL en campo nombre. 2. Guardar.                   | Usuario: "' OR '1'='1' --"                                   | Creación denegada, validación exitosa contra inyección.                                                  |
| US-014-TC-016 | Creación con intento de inyección SQL en contraseña               | 1. Ingresar código SQL en campo contraseña. 2. Guardar.               | Pass: "' OR '1'='1' --"                                      | Creación denegada, validación exitosa contra inyección.                                                  |
| US-014-TC-017 | Edición exitosa del nombre de usuario de un "Mesero"             | 1. Seleccionar "mesero1". 2. Cambiar nombre. 3. Guardar.             | Nuevo Nombre: "mesero_actualizado"                            | Nombre actualizado correctamente en la lista.                                                             |
| US-014-TC-018 | Edición exitosa de la contraseña de un "Cocinero"                | 1. Seleccionar "cocinero1". 2. Cambiar contraseña. 3. Guardar.       | Nueva Pass: "NewPass456!"                                     | Pass actualizada; usuario puede loguearse con nueva pass.                                                |
| US-014-TC-019 | Edición exitosa del rol de un usuario                            | 1. Seleccionar "mesero1". 2. Cambiar rol de Mesero a Cocinero. 3. Guardar. | Nuevo Rol: Cocinero                                       | Rol actualizado; usuario accede a vistas de Cocinero solamente.                                         |
| US-014-TC-020 | Edición de múltiples campos de un usuario                         | 1. Seleccionar usuario. 2. Cambiar nombre, pass y rol. 3. Guardar.    | Nombre: "editado", Rol: Administrador                         | Todos los campos actualizados y visibles en la lista.                                                    |
| US-014-TC-021 | Intento de edición con nombre de usuario duplicado                | 1. Editar "mesero1". 2. Cambiar nombre a "cocinero1" (existente).   | Nombre: "cocinero1"                                          | Edición denegada, mensaje: "El nombre de usuario ya existe".                                           |
| US-014-TC-022 | Intento de edición con nombre de usuario vacío                    | 1. Editar usuario. 2. Borrar nombre. 3. Guardar.                      | Nombre: ""                                                  | Edición denegada, mensaje: "Nombre de usuario requerido".                                               |
| US-014-TC-023 | Intento de edición con contraseña vacía                           | 1. Editar usuario. 2. Borrar pass. 3. Guardar.                        | Pass: ""                                                   | Edición denegada, mensaje indicando obligatoriedad de pass.                                              |
| US-014-TC-024 | Intento de edición sin seleccionar un rol                        | 1. Editar usuario. 2. Deseleccionar rol. 3. Guardar.                  | Rol: null                                                   | Edición denegada, mensaje: "Rol requerido".                                                             |
| US-014-TC-025 | Intento de edición de un usuario inexistente (concurrencia)       | 1. Abrir edición. 2. Usuario es borrado por otro admin. 3. Guardar.    | Usuario eliminado                                            | Edición denegada, mensaje: "Usuario no existe o ha sido eliminado".                                    |
| US-014-TC-026 | Edición del propio rol de "Administrador"                       | 1. Admin edita su propia cuenta. 2. Cambiar rol a Mesero. 3. Guardar.  | Nuevo Rol: Mesero                                            | Edición denegada, mensaje de restricción sobre cambio de propio rol.                                     |
| US-014-TC-027 | Edición de la propia contraseña de "Administrador"               | 1. Admin edita su propia cuenta. 2. Cambiar pass. 3. Guardar.          | Nueva Pass válida                                            | Pass actualizada; admin se loguea con nueva credencial.                                                  |
| US-014-TC-028 | Visualización de la lista de usuarios vacía                      | 1. Acceder a lista sin otros usuarios registrados.                     | Ninguno                                                      | Lista muestra solo al admin actual o mensaje "Sin otros usuarios".                                      |
| US-014-TC-029 | Visualización de la lista con múltiples usuarios                 | 1. Acceder a lista con diversos usuarios creados.                      | Usuarios en BD                                               | Lista muestra todos los nombres y roles correctamente.                                                    |
| US-014-TC-030 | Paginación de la lista de usuarios                              | 1. Tener usuarios excediendo límite de página. 2. Navegar páginas.     | >10-20 usuarios                                              | Paginación funcional; permite ver todos los registros.                                                    |
| US-014-TC-031 | Manejo de errores de red durante la creación                    | 1. Simular desconexión. 2. Intentar crear usuario.                     | Datos válidos                                                | Mensaje de error de conexión, usuario no creado.                                                          |
| US-014-TC-032 | Manejo de errores de red durante la edición                     | 1. Simular desconexión. 2. Intentar guardar edición.                   | Datos válidos                                                | Mensaje de error de conexión, cambios no guardados.                                                       |

# Casos de Prueba para US-015: Gestión de Productos (Crear, Editar, Validar)

| ID            | Descripción                                                        | Pasos                                                                 | Datos de Entrada                                            | Resultado Esperado                                                                                       |
|---------------|--------------------------------------------------------------------|-----------------------------------------------------------------------|-------------------------------------------------------------|----------------------------------------------------------------------------------------------------------|
| US-015-TC-001 | Creación exitosa de un producto con todos los datos válidos        | 1. Ingresar nombre único. 2. Ingresar descripción. 3. Ingresar precio válido. 4. Seleccionar categoría. 5. Guardar. | Nombre: "Hamburguesa Clásica", Precio: 12.50, Categoría: "Platos Fuertes" | Producto creado y visible en la lista con los datos correctos.                                           |
| US-015-TC-002 | Creación exitosa de un producto con descripción opcional vacía     | 1. Ingresar nombre único. 2. Ingresar precio. 3. Dejar descripción vacía. 4. Seleccionar categoría. 5. Guardar. | Nombre: "Refresco Cola", Precio: 2.00, Categoría: "Bebidas" | Producto creado y visible con descripción vacía.                                                          |
| US-015-TC-003 | Intento de creación con nombre de producto duplicado              | 1. Intentar crear producto con nombre ya existente. 2. Guardar.        | Nombre: "Hamburguesa Clásica" (Existente)                  | Creación denegada, mensaje: "El nombre del producto ya existe".                                         |
| US-015-TC-004 | Intento de creación con nombre de producto vacío                  | 1. Dejar nombre vacío. 2. Ingresar precio y categoría. 3. Guardar.     | Nombre: "", Precio: 10.00, Categoría: "Postres"            | Creación denegada, mensaje: "El Nombre es requerido".                                                    |
| US-015-TC-005 | Intento de creación con precio vacío                              | 1. Ingresar nombre y categoría. 2. Dejar precio vacío. 3. Guardar.     | Nombre: "Producto Test", Precio: null                       | Creación denegada, mensaje: "El Precio es requerido".                                                    |
| US-015-TC-006 | Intento de creación sin seleccionar una categoría                 | 1. Ingresar nombre y precio. 2. No seleccionar categoría. 3. Guardar.  | Nombre: "Producto Test", Categoría: null                    | Creación denegada, mensaje: "La Categoría es requerida".                                                 |
| US-015-TC-007 | Creación con precio cero                                         | 1. Ingresar nombre y categoría. 2. Ingresar precio 0.00. 3. Guardar.   | Nombre: "Agua del Grifo", Precio: 0.00                      | Producto creado y visible con precio 0.00.                                                                |
| US-015-TC-008 | Intento de creación con precio negativo                          | 1. Ingresar nombre y categoría. 2. Ingresar precio negativo. 3. Guardar. | Precio: -5.00                                               | Creación denegada, mensaje: "El Precio debe ser un valor positivo".                                      |
| US-015-TC-009 | Creación con nombre de producto en límite mínimo                  | 1. Ingresar nombre de 3 caracteres. 2. Ingresar precio y categoría. 3. Guardar. | Nombre: "Pan"                                            | Producto creado exitosamente.                                                                             |
| US-015-TC-010 | Creación con nombre de producto en límite máximo                  | 1. Ingresar nombre de 50 caracteres. 2. Ingresar precio y categoría. 3. Guardar. | Nombre: [50 caracteres]                                    | Producto creado exitosamente.                                                                             |
| US-015-TC-011 | Creación con nombre de producto excediendo límite máximo          | 1. Intentar ingresar o enviar nombre de 51 caracteres.                 | Nombre: [51 caracteres]                                         | Entrada restringida o error: "El nombre es demasiado largo".                                             |
| US-015-TC-012 | Creación con descripción en límite máximo                        | 1. Ingresar nombre, precio, categoría. 2. Ingresar descripción de 200 caracteres. 3. Guardar. | Descripción: [200 caracteres]                                | Producto creado con descripción completa.                                                                 |
| US-015-TC-013 | Creación con descripción excediendo límite máximo                | 1. Intentar ingresar o enviar descripción de 201 caracteres.           | Descripción: [201 caracteres]                                   | Entrada restringida o error: "La descripción es demasiado larga".                                        |
| US-015-TC-014 | Intento de creación con tipo de dato inválido para precio         | 1. Ingresar texto en campo precio. 2. Guardar.                        | Precio: "doce con cincuenta"                                   | Creación denegada, mensaje: "El Precio debe ser un número".                                             |
| US-015-TC-015 | Intento de creación con categoría inexistente                    | 1. Forzar ingreso manual de categoría no registrada. 2. Guardar.       | Categoría: "Comida Rápida"                                    | Creación denegada, mensaje: "La categoría seleccionada no es válida".                                   |
| US-015-TC-016 | Creación con caracteres especiales en nombre                     | 1. Ingresar nombre con comillas o símbolos permitidos. 2. Guardar.     | Nombre: "Pizza Especial 'Deluxe'"                             | Producto creado y nombre mostrado correctamente.                                                          |
| US-015-TC-017 | Intento de inyección SQL en nombre de producto                   | 1. Ingresar sentencia SQL en campo nombre. 2. Guardar.                 | Nombre: "' OR '1'='1' --"                                     | Creación denegada, validación de seguridad exitosa.                                                      |
| US-015-TC-018 | Edición exitosa del nombre de un producto                       | 1. Seleccionar producto. 2. Modificar nombre. 3. Guardar.              | Nuevo Nombre: "Hamburguesa Gourmet"                           | Nombre actualizado en la lista.                                                                          |
| US-015-TC-019 | Edición exitosa del precio de un producto                       | 1. Seleccionar producto. 2. Modificar precio. 3. Guardar.              | Nuevo Precio: 2.50                                             | Precio actualizado en la lista.                                                                          |
| US-015-TC-020 | Edición exitosa de la categoría de un producto                  | 1. Seleccionar producto. 2. Cambiar categoría. 3. Guardar.             | Nueva Categoría: "Entradas"                                   | Categoría actualizada en la lista.                                                                       |
| US-015-TC-021 | Edición de múltiples campos de un producto                      | 1. Seleccionar producto. 2. Cambiar nombre, precio, descripción y categoría. 3. Guardar. | Varios campos editados                                    | Todos los campos actualizados correctamente.                                                             |
| US-015-TC-022 | Intento de edición con nombre de producto duplicado             | 1. Editar producto A. 2. Cambiar su nombre al del producto B (existente). 3. Guardar. | Nombre: "Pizza Hawaiana" (Existente)                      | Edición denegada, mensaje: "El nombre del producto ya existe".                                         |
| US-015-TC-023 | Intento de edición con nombre de producto vacío                 | 1. Editar producto. 2. Borrar nombre. 3. Guardar.                      | Nombre: ""                                                   | Edición denegada, mensaje: "El Nombre es requerido".                                                    |
| US-015-TC-024 | Intento de edición con precio vacío                            | 1. Editar producto. 2. Borrar precio. 3. Guardar.                      | Precio: null                                                  | Edición denegada, mensaje: "El Precio es requerido".                                                    |
| US-015-TC-025 | Intento de edición sin seleccionar una categoría               | 1. Editar producto. 2. Deseleccionar categoría. 3. Guardar.            | Categoría: null                                               | Edición denegada, mensaje: "La Categoría es requerida".                                                 |
| US-015-TC-026 | Intento de edición de un producto inexistente                  | 1. Abrir edición. 2. Producto eliminado por otro admin. 3. Guardar.    | Producto eliminado                                            | Edición denegada, mensaje: "El producto no existe o ha sido eliminado".                                 |
| US-015-TC-027 | Visualización de la lista de productos vacía                   | 1. Acceder a lista sin registros.                                      | BD vacía                                                      | Mensaje: "No hay productos registrados".                                                                |
| US-015-TC-028 | Visualización de la lista con múltiples productos              | 1. Acceder a lista con varios registros.                               | Productos en BD                                               | Lista muestra nombre, precio, categoría y descripción de todos.                                          |
| US-015-TC-029 | Paginación de la lista de productos                           | 1. Tener productos que superen límite por página. 2. Navegar.          | Cantidad de productos > límite                                | Paginación funcional; navegación entre páginas exitosa.                                                  |
| US-015-TC-030 | Manejo de errores de red durante la creación                  | 1. Simular fallo de red/backend. 2. Intentar crear.                    | Datos válidos                                                 | Mensaje de error de conexión, producto no creado.                                                         |
| US-015-TC-031 | Manejo de errores de red durante la edición                   | 1. Simular fallo de red/backend. 2. Intentar guardar.                  | Datos válidos                                                 | Mensaje de error de conexión, cambios no guardados.                                                       |

# Casos de Prueba para US-016: Gestión de Categorías (Crear, Editar, Validar)

| ID            | Descripción                                                        | Pasos                                                                 | Datos de Entrada                                            | Resultado Esperado                                                                                       |
|---------------|--------------------------------------------------------------------|-----------------------------------------------------------------------|-------------------------------------------------------------|----------------------------------------------------------------------------------------------------------|
| US-016-TC-001 | Creación exitosa de una categoría con nombre válido               | 1. Ingresar nombre único. 2. Guardar.                                 | Nombre: "Entradas"                                           | Categoría creada y visible en la lista.                                                                  |
| US-016-TC-002 | Intento de creación con nombre de categoría vacío                | 1. Dejar campo nombre vacío. 2. Guardar.                              | Nombre: ""                                                   | Creación denegada, mensaje: "Nombre es requerido".                                                      |
| US-016-TC-003 | Intento de creación con nombre de categoría duplicado            | 1. Intentar crear categoría con nombre existente. 2. Guardar.          | Nombre: "Bebidas" (Existente)                                 | Creación denegada, mensaje: "Nombre de la categoría ya existe".                                         |
| US-016-TC-004 | Creación con nombre en el límite mínimo (2 caracteres)           | 1. Ingresar nombre de 2 caracteres. 2. Guardar.                       | Nombre: "Rx"                                                 | Categoría creada y visible en la lista.                                                                  |
| US-016-TC-005 | Creación con nombre en el límite máximo (30 caracteres)          | 1. Ingresar nombre de 30 caracteres. 2. Guardar.                      | Nombre: "Categoría de Productos Largos"                      | Categoría creada y visible en la lista.                                                                  |
| US-016-TC-006 | Creación con nombre excediendo límite máximo                    | 1. Intentar ingresar o enviar 31 caracteres.                          | Nombre: [31 caracteres]                                        | Entrada restringida a 30 o error: "Nombre demasiado largo".                                             |
| US-016-TC-007 | Creación con caracteres especiales en nombre                    | 1. Ingresar nombre con símbolos (escapados). 2. Guardar.              | Nombre: "Bebidas Frías & Calientes"                          | Categoría creada y nombre mostrado correctamente.                                                        |
| US-016-TC-008 | Intento de inyección SQL en nombre de categoría                 | 1. Ingresar código malicioso SQL. 2. Guardar.                         | Nombre: "' OR '1'='1' --"                                    | Creación denegada, validación de seguridad exitosa.                                                      |
| US-016-TC-009 | Edición exitosa del nombre de una categoría                     | 1. Seleccionar categoría. 2. Modificar nombre. 3. Guardar.             | Nuevo Nombre: "Bebidas Refrescantes"                         | Nombre actualizado correctamente en la lista.                                                            |
| US-016-TC-010 | Intento de edición con nombre de categoría vacío                | 1. Editar categoría. 2. Borrar nombre. 3. Guardar.                    | Nombre: ""                                                   | Edición denegada, mensaje: "Nombre es requerido".                                                       |
| US-016-TC-011 | Intento de edición a un nombre duplicado                       | 1. Editar categoría A. 2. Cambiar nombre al de categoría B. 3. Guardar. | Nombre: "Entradas" (Existente)                              | Edición denegada, mensaje: "Nombre de la categoría ya existe".                                         |
| US-016-TC-012 | Edición con nombre en límite mínimo (2 caracteres)              | 1. Editar categoría. 2. Cambiar nombre a 2 caracteres. 3. Guardar.     | Nombre: "PF"                                                 | Nombre actualizado a "PF" exitosamente.                                                                |
| US-016-TC-013 | Edición con nombre en límite máximo (30 caracteres)             | 1. Editar categoría. 2. Cambiar nombre a 30 caracteres. 3. Guardar.    | Nombre: [30 caracteres]                                        | Nombre actualizado correctamente.                                                                        |
| US-016-TC-014 | Edición con nombre excediendo límite máximo                     | 1. Intentar editar nombre a 31 caracteres.                             | Nombre: [31 caracteres]                                        | Entrada restringida o error: "Nombre demasiado largo".                                                  |
| US-016-TC-015 | Intento de edición de una categoría inexistente                | 1. Abrir edición. 2. Categoría eliminada por otro admin. 3. Guardar.   | Categoría eliminada                                            | Edición denegada, mensaje: "Categoría no existe o ha sido eliminada".                                  |
| US-016-TC-016 | Visualización de la lista de categorías vacía                   | 1. Acceder a configuración sin registros.                              | BD vacía                                                      | Mensaje: "No hay categorías registradas".                                                               |
| US-016-TC-017 | Visualización de la lista con una categoría                     | 1. Acceder a configuración con un registro.                            | 1 Categoría ("Bebidas")                                      | Lista muestra únicamente "Bebidas".                                                                     |
| US-016-TC-018 | Visualización de la lista con múltiples categorías              | 1. Acceder a configuración con varios registros.                       | Varias categorías                                              | Lista muestra todos los nombres correctamente.                                                            |
| US-016-TC-019 | Paginación de la lista de categorías                           | 1. Tener categorías que superen límite por página. 2. Navegar.         | Cantidad > límite                                              | Paginación funcional y navegación entre páginas correcta.                                                 |
| US-016-TC-020 | Manejo de errores de red durante la creación                   | 1. Simular desconexión/fallo backend. 2. Intentar crear.               | Datos válidos                                                  | Mensaje de error de conexión, categoría no creada.                                                        |
| US-016-TC-021 | Manejo de errores de red durante la edición                    | 1. Simular desconexión/fallo backend. 2. Intentar guardar.             | Datos válidos                                                  | Mensaje de error de conexión, cambios no guardados.                                                       |

# Casos de Prueba para US-018: Bloqueo de Edición de Pedido en Curso

| ID            | Descripción                                                        | Pasos                                                                 | Datos de Entrada                                            | Resultado Esperado                                                                                       |
|---------------|--------------------------------------------------------------------|-----------------------------------------------------------------------|-------------------------------------------------------------|----------------------------------------------------------------------------------------------------------|
| CP-US018-001  | Intento de edición de pedido en estado "preparing"               | 1. Identificar pedido en estado "preparing". 2. Intentar acceder a la edición. | ID: "PEDIDO-001", Estado: "preparing"                      | Mensaje de error: "No se puede editar un pedido en curso". Edición bloqueada.                          |
| CP-US018-002  | Intento de edición de pedido en estado "ready"                   | 1. Identificar pedido en estado "ready". 2. Intentar acceder a la edición. | ID: "PEDIDO-002", Estado: "ready"                          | Mensaje de error: "No se puede editar un pedido en curso". Detalles inalterados.                       |
| CP-US018-003  | Intento de edición de pedido en estado "completed"               | 1. Identificar pedido en estado "completed". 2. Intentar acceder a la edición. | ID: "PEDIDO-003", Estado: "completed"                      | Mensaje de error: "No se puede editar un pedido en curso". Sin modificaciones.                         |
| CP-US018-004  | Verificación de mensaje de error exacto (preparing)               | 1. Intentar editar pedido "preparing". 2. Validar texto del mensaje. | ID: "PEDIDO-004", Estado: "preparing"                      | El mensaje mostrado es exactamente: "No se puede editar un pedido en curso".                            |
| CP-US018-005  | Verificación de mensaje de error exacto (ready)                   | 1. Intentar editar pedido "ready". 2. Validar texto del mensaje.     | ID: "PEDIDO-005", Estado: "ready"                          | El mensaje mostrado es exactamente: "No se puede editar un pedido en curso".                            |
| CP-US018-006  | Intento de edición de campos específicos (preparing)              | 1. Intentar cambiar cliente, mesa o cantidad en pedido "preparing".  | ID: "PEDIDO-006", Campos: Nombre, Mesa, Cantidad            | Error "No se puede editar un pedido en curso". Cambios no persistidos en BD.                            |
| CP-US018-007  | Intento de edición de campos específicos (ready)                  | 1. Intentar añadir/eliminar ítem o cambiar comentario en pedido "ready". | ID: "PEDIDO-007", Campos: Items, Comentarios                | Error "No se puede editar un pedido en curso". Pedido en BD permanece sin cambios.                      |
| CP-US018-008  | Botón de edición deshabilitado (preparing)                        | 1. Visualizar lista de pedidos. 2. Localizar pedido "preparing".     | ID: "PEDIDO-008", Estado: "preparing"                      | El botón/opción de edición está deshabilitado o no es visible en la UI.                                  |
| CP-US018-009  | Botón de edición deshabilitado (ready)                            | 1. Visualizar lista de pedidos. 2. Localizar pedido "ready".         | ID: "PEDIDO-009", Estado: "ready"                          | El botón/opción de edición está deshabilitado o no es visible en la UI.                                  |
| CP-US018-010  | Intento de edición de un pedido inexistente                       | 1. Intentar acceder a edición de un ID que no existe en BD.           | ID: "PEDIDO-010" (Inexistente)                               | Mensaje de error: "Pedido no encontrado". No se permite modificación.                                   |
| CP-US018-011  | Validación del flujo opuesto (pedido pending)                     | 1. Identificar pedido "pending". 2. Intentar editar.                | ID: "PEDIDO-011", Estado: "pending"                        | La interfaz permite la edición sin restricciones de estado.                                               |
| CP-US018-012  | Falla de comunicación con el backend al editar                    | 1. Simular caída de conexión. 2. Intentar editar pedido "preparing". | ID: "PEDIDO-012", Error de Red                               | Mensaje: "Error de comunicación con el servidor". Modificación no permitida.                            |
| CP-US018-013  | Bypass de UI para editar pedido "preparing"                     | 1. Enviar solicitud PUT/PATCH directa al API para un pedido "preparing". | Request directa al Microservicio (Node.js)                   | El Microservicio rechaza la solicitud. Log de advertencia registrado en el backend.                      |
| CP-US018-014  | Concurrencia: Cambio a "preparing" durante edición               | 1. Iniciar edición en pedido "pending". 2. Cambiar estado a "preparing" en BD. 3. Intentar guardar. | ID: "PEDIDO-014", Cambio concurrente                         | El sistema detecta el cambio. Error: "No se puede editar un pedido en curso".                           |

# Casos de Prueba para US-022: Carga y Validación de Estrategias Dinámicas (Strategy Pattern)

| ID            | Descripción                                                        | Pasos                                                                 | Datos de Entrada                                            | Resultado Esperado                                                                                       |
|---------------|--------------------------------------------------------------------|-----------------------------------------------------------------------|-------------------------------------------------------------|----------------------------------------------------------------------------------------------------------|
| CP-US022-001  | Carga exitosa de una estrategia válida al iniciar                  | 1. Iniciar microservicio. 2. Verificar carga de "ESTRATEGIA-SIMPLE" desde MongoDB. 3. Ejecutar cálculo. | ID: "ESTRATEGIA-SIMPLE", Code: "module.exports = (data) => { ... }" | Estrategia cargada y utilizada para calcular tiempos correctamente.                                      |
| CP-US022-002  | Carga exitosa de múltiples estrategias válidas                    | 1. Iniciar microservicio con varias estrategias en BD. 2. Verificar disponibilidad de ambas. | IDs: "ESTRATEGIA-SIMPLE", "ESTRATEGIA-COMPLEJA"           | Ambas estrategias cargadas; el sistema puede alternar entre ellas según la lógica.                       |
| CP-US022-003  | Carga cuando no hay estrategias en MongoDB                        | 1. Iniciar microservicio con colección vacía. 2. Intentar calcular tiempo. | MongoDB: []                                                | Uso de estrategia de "fallback" (defecto) y advertencia en logs.                                       |
| CP-US022-004  | Estrategia con código sintácticamente inválido                    | 1. Intentar cargar estrategia con error de sintaxis JS.                | Code: "function { missing_brackets"                         | Error de sintaxis en logs; el sistema aplica estrategia de fallback.                                     |
| CP-US022-005  | Estrategia con código semánticamente inválido                    | 1. Cargar código JS válido pero sin la interfaz esperada.              | Code: "const x = 10; // No exporta función"                  | Error de validación de interfaz en logs; aplicación de fallback.                                         |
| CP-US022-006  | Falla en la conexión a MongoDB al iniciar                        | 1. Simular caída de MongoDB. 2. Iniciar microservicio.                 | Error de conexión BD                                         | Registro de error crítico; el servicio inicia usando solo lógica de fallback.                           |
| CP-US022-007  | Estrategia con código malicioso o peligroso                      | 1. Intentar cargar código que use process.exit() o fs.                 | Code: "process.exit(1);"                                     | Bloqueo por mecanismo de sandboxing/seguridad; alerta de seguridad en logs.                             |
| CP-US022-008  | Estrategia con dependencias externas no resueltas                | 1. Intentar cargar código que use require('modulo-no-instalado').      | Code: "require('lodash')" (no instalado)                     | Fallo de carga por dependencia faltante; uso de fallback.                                                |
| CP-US022-009  | Estrategia con tamaño de código excesivo                         | 1. Cargar estrategia de varios MB de longitud.                         | Code: [String > 2MB]                                         | Carga exitosa (si hay memoria) o advertencia por umbral de rendimiento superado.                        |
| CP-US022-010  | Actualización en MongoDB después del inicio                      | 1. Modificar estrategia en BD con el microservicio ya encendido. 2. Calcular tiempo. | Modificación en Documento MongoDB                          | El microservicio sigue usando la versión original (caché de inicio).                                    |
| CP-US022-011  | Carga de estrategias con IDs duplicados                          | 1. Tener dos docs con ID "ESTRATEGIA-DUPLICADA" en BD.                | 2 Documentos con mismo ID                                    | Se carga solo la primera; registro de advertencia por duplicidad.                                       |
| CP-US022-012  | Fallo total de inicialización del Strategy Pattern               | 1. Forzar error crítico en el cargador de estrategias. 2. Intentar calcular. | Error de sistema base                                      | Excepción controlada o cálculo de emergencia; el resto del servicio sigue operando.                      |

